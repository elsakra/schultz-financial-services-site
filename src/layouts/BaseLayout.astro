---
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import siteData from '@/data/site.json';

interface Props {
  title?: string;
  description?: string;
}

const { title, description } = Astro.props;
const pageTitle = title ? `${title} | ${siteData.company.name}` : siteData.seo.title;
const pageDescription = description || siteData.seo.description;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={pageDescription} />
    <title>{pageTitle}</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,400&display=swap" rel="stylesheet" />
    
    <!-- Favicon -->
    {siteData.branding?.logo?.includes('cloudinary') || siteData.branding?.logo?.includes('http') ? (
      <link rel="icon" type="image/png" href={siteData.branding.logo} />
    ) : (
      <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    )}
  </head>
  <body class="bg-white text-charcoal-900 font-body antialiased">
    <Header />
    <main>
      <slot />
    </main>
    <Footer />
  </body>
</html>

<style is:global>
  html {
    scroll-behavior: smooth;
  }
  
  /* Disable ligatures to prevent font rendering issues */
  * {
    font-feature-settings: "liga" 0, "clig" 0, "dlig" 0, "hlig" 0;
    -webkit-font-feature-settings: "liga" 0, "clig" 0, "dlig" 0, "hlig" 0;
    -moz-font-feature-settings: "liga" 0, "clig" 0, "dlig" 0, "hlig" 0;
    font-variant-ligatures: none;
    -webkit-font-variant-ligatures: none;
  }
  
  .font-display {
    font-family: 'Merriweather', Georgia, serif;
  }
  
  .font-body {
    font-family: 'Inter', system-ui, sans-serif;
  }

  /* Corporate link styles */
  a {
    transition: color 0.2s ease;
  }

  /* Focus states for accessibility */
  :focus-visible {
    outline: 2px solid #c8102e;
    outline-offset: 2px;
  }

  /* Smooth transitions */
  .transition-base {
    transition: all 0.2s ease-in-out;
  }

  /* Hero gradient overlay */
  .hero-overlay {
    background: linear-gradient(135deg, rgba(26, 26, 46, 0.95) 0%, rgba(36, 59, 83, 0.85) 100%);
  }

  /* Card hover effects */
  .card-hover {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .card-hover:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }

  /* Mega menu animations */
  .mega-menu-enter {
    animation: slideDown 0.2s ease-out;
  }
  
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Carousel transitions */
  .carousel-slide {
    transition: opacity 0.5s ease-in-out;
  }
</style>
