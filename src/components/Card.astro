---
interface Props {
  title: string;
  description?: string;
  image?: string;
  href?: string;
  class?: string;
}

const { title, description, image, href, class: className } = Astro.props;

const CardWrapper = href ? 'a' : 'div';
---

<CardWrapper 
  href={href}
  class:list={[
    "group block bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300",
    href && "cursor-pointer",
    className
  ]}
>
  <div class="aspect-[4/3] overflow-hidden relative">
    {image ? (
      <img 
        src={image} 
        alt={title}
        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
        onerror="this.parentElement.classList.add('no-image')"
      />
    ) : (
      <div class="w-full h-full bg-gradient-to-br from-sage-100 via-cream-100 to-warm-50 flex items-center justify-center">
        <svg class="w-16 h-16 text-sage-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
        </svg>
      </div>
    )}
  </div>
  <div class="p-6">
    <h3 class="font-display text-xl font-semibold text-sage-900 group-hover:text-sage-700 transition-colors">
      {title}
    </h3>
    {description && (
      <p class="mt-2 text-earth-600 text-sm leading-relaxed">
        {description}
      </p>
    )}
    <slot />
  </div>
</CardWrapper>
